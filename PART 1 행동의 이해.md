## 1\. 인과-행동 프레임워크

인과-행동 프레임워크 : 데이터 분석과 행동 과학적인 사고방식, 인과관계 분석 도구 모음을 결합(필자가 만들어낸 말)  
궁극적 목표 : 행동을 이해하는 것  
인과-행동 프레임워크의 3가지 요소 : 행동(가장 중요), 인과관계 다이어그램, 데이터

\*\* 예측 분석(predictive analytics)과 인과관계 분석(causal analysis)은 다른 것

### 1.1 인과관계 분석을 선택한 이유

#### 1.1.1 분석의 유형

- 기술 분석(descriptive analysis) : 데이터에 대한 설명을 제공
  - ex) 지난달에 얼마나 많은 고객이 서비스 구독을 취소했나요?, 작년 이익은 얼마인가요?
- 예측 분석(predictive analysis) : 예측을 제공
  - 머신러닝 방법(신경망, 그레이디언트 부스팅)이 속함
  - ex) 다음달에 구독을 취소하는 고객은 몇 명일까?, 이 주문은 허위일까?
- 인과관계(cause)
  - 도구 : 무작위 실험, 무작위 대조군 연구(RCT)라고 부르는 A/B 테스트
  - ex) 할인 쿠폰을 보내지 않으면 다음 달에 얼마나 많은 고객이 구독을 취소할까?

\*\* 세 유형 사이에 경계선이 분명하지 않다. 일부 분석 방법이 공유되기도 한다.

#### 1.1.2 인간은 복잡한 존재다

- 여러 요인에 영향을 받는다
  - 일반적인 사물에 비해 인간의 행동은 모든 요인(사회적 규범, 양육 환경 등)의 영향을 받기 때문에 하나의 변수가 갖는 예측력은 기댓값이 낮다.
- 상황에 따라 다르다
  - 환경에 눈에 띄지 않는 사소한 변화만 있어도 행동에 큰 영향을 줄 수 있다.
- 가변적이다
  - 기분과 같은 일시적인 영향이나 매일 먹는 아침이 질리는 것 같은 장기적인 영향을 받을 수 있다.
- 혁신적이다
  - 환경 조건이 변할 때 한번도 하지 않았던 행동을 할 수 있다.(바로 앞에서 자동차 사고가 나서 급하게 핸들을 꺾는 경우)
- 전략적이다
  - 다른 사람의 행동과 의도를 추론하고 반응한다.(멀어진 사이를 안정적인 관계로 '회복'시키기, 남을 속이기)

\*\* (자투리) '인간의 행동은 복잡하기 때문에 예측하기 어렵다'라는 의견을 수학적 관점에서 풀어보자

- 보간법(interpolation)
  - 선형회귀선의 관측값 범위 안에서의 예측
  - 일반적으로 안전하고 신뢰할 수 있다
- 보외법(extrapolation)
  - 선형회귀선의 관측값 범위 밖에서의 예측
  - 도전적이고 보간법에 비해 신뢰성이 떨어진다

인간의 행동은 일반적인 사물과는 다르게 관측 공간에 존재하는 데이터가 매우 적은 경향이 있다.  
따라서 보외법을 훨씬 더 자주 사용하게 된다.

### 1.2 회귀 분석을 방해하는 교란

인과관계 분석에서도 회귀를 사용하지만 예측 분석과는 다르게 목표변수(target variable)의 값을 측정하는 것만이 목표는 아니다. 대신 측정값을 유도한 요인이 무엇인가에 초점을 맞춘다.  
종속변수(dependent variable) 자체가 아니라 주어진 독립변수(independent variable)와의 관계가 중요하다는 의미  
잘 설계된 회귀 분석에서 상관계수(correlation coefficient)는 종속변수에 대한 독립변수의 인과 효과(causal effect)를 나타내는 좋은 지표가 될 수 있다.

#### 1.2.1 데이터

#### 1.2.2 상관관계가 인과관계가 아닌 이유

기온과 아이스크림 매출의 상관관계를 보여주는 데이터

- 관찰 기온이 0도 일때는 아이스크림 매출이 -4,519로 추정됨
- 무조건 덥다고 매출이 높지는 않음 ex)무더운 날에 아이스크림 재고를 늘렸지만 예측한 값에는 미치지 못함 (여름방학 기간이 아님)

판매 시점이 기온과 매출의 관계를 교란하는 요인임

- 판매 시점은 교란변수(confounder)이다.
- 회귀모델에 편향(bias)을 조성

#### 1.2.3 사공이 많으면 배가 산으로 간다

- (Temperature, IceCreamSales) => (Temperature, IceCreamSales, IcedCoffeeSales)  
  회귀에 잘못된 변수를 추가하면 실제로는 존재하지 않는 환상 속의 관계를 만들 수도 있다.

변수 의미

- coef(coefficient) : ax+b -> a
- std err : ax+b -> b
- p-value(probability-value) : 어떤 사건이 우연히 발생할 확률
  - 낮을 수록 신뢰할 수 있음
- 0.025, 0.925 : 정규분포 상의 x(0.025, 0.925)값의 y값

다중공선성(Multicollinearity)

- 통계학의 회귀분석에서 독립변수들 간에 강한 상관관계가 나타나는 문제
- 데이터 분석시 부정적인 영향을 끼침

벅슨의 역설

- A와 B 둘다 있는 사람이나, A와 B 둘다 없는 사람이 연구 대상에서 제외되었을 때, A-B 간의 가짜 관계가 생긴다.

## 2\. 행동 데이터를 이해하는 방법

### 2.1 인간 행동의 기본 모델

비지니스 행동 (인지와 감정, 의도, 행동)  
개인 특성 -> 인지와 감정 -> 의도 -> 행동

#### 2.1.1 개인 특성

- 분석 기간 동안 드물게 혹은 굉장히 점진적으로만 변하는 모든 개인정보
- 연령, 성별, 가족관계 같은 인구통계 변수는 좋은 예측 변수이다. 하지만 행동 데이터 분석에서는 더 광범위하고 정확하게 개인 특성을 파악해야 한다.

확률론적 관젬에서 행동의 원인을 '기여 요소(contributing factor)'로 정의하면 문제를 해결할 수 있다

40대가됨 -> 중년의 위기감을 느낌 -> 빨간색 스포츠카를 구매

- 나이라는 요소가 삶의 회의감에 기여하는 정도는 직업이나 가족관계 같은 사회적인 환경에 큰 영향을 받는다.
- 여기서 기여 요소는 직업, 가족관계 이다.

데이터 수집과 윤리

- 변수의 효과를 잘못 이해하면 윤리적인 측면에서도 문제가 될 수 있다.
- 데이터 분석의 결과가 정확하더라도 그 결과가 의도치 않게 어떤 이점과 약점을 심화하지 않도록 유의해야 한다.

#### 2.1.2 인지와 감정

- 감정, 인지, 심성 모형, 신념과 같은 정신 상태를 아울러 표현하는 문구이다.
- 고객의 뇌에서 일어나는 모든 일이라고 생각하면 된다.
- 고객 만족도(CSAT), 고객 경험(CX)과 같은 모호한 비즈니스 용어를 포함한다.
- ex) 길을 가다가 멋진 테슬라 자동차를 볼때마다 부러움을 느낀다.

데이터 수집과 윤리

- 누군가의 인지와 감정을 바꾸려고 하는 것이 윤리적으로 옳은가를 판단하기는 어렵다.
- 뉴욕 타임스의 첫 페이지에 싣는다고 했을 때 임원이 흔쾌히 수락할 만큼 선하고 투명한지를 확인해보자.\\

#### 2.1.3 의도

- ex) 나는 롤체를 할 거야
- 행동에 한발 더 가까운 요소
- 하고 싶다고 생각한 행동이 실제 행동으로 이어지지 않는 경우도 있다.(의도-행동 차이)

데이터 수집과 윤리

- 설문 조사
- 사용자 경험 관찰
  - UX 연구원이 대상자에게 특정 경험을 하게 하고 의도 정보를 수집한다.
  - 경험을 마친 후에 '그 시점에 무엇을 하려고 했나요?'라고 질문
  - 경험을 하는 중간에 큰소리로 의도를 말하게 함
- 의도 모델링(intent modeling)
  - 관찰된 행동으로부터 의도를 추측하는 방법

누군가의 의도에 영향을 미치는 것은 윤리적으로 옳지 않을 수 있다.  
따라서 고객의 의도-행동 차이를 해소하는 방법이 훨씬 간단하고 안전하다.  
페인 포인트를 해결하자

- 페인 포인트(pain point) : 의도를 달성하는 것을 방해하는 장애물

#### 2.1.4 행동

- 말로 표현하지 않아도 직접 관찰할 수 있는 움직임을 의미
- 행동(action)은 행동 경향(behavior)의 기본 단위
- 물건을 구매하기로 마음먹기는 행동이 아니다

데이터 수집과 윤리

- 수집이 어려울 수 있다.
  - ex) 임직원 행동을 분석해야할 때 대외비 혹은 개인 데이터가 많아서 활용 가능한 데이터 양이 적을 수 있다.
- 행동을 수정하는 것은 쉬울 수도 있고 어려울 수도 있다.
  - ex) 고객센터 전화번호를 삭제 -> 전화하는 고객의 수가 줄어든다.

#### 2.1.5 비즈니스 행동

- 조직이나 임직원이 고객(또는 다른 임직원)에게 영향을 주고자 하는 행동을 의미
  - 이메일과 우편을 포함한 의사소통
  - 웹사이트 문구나 고객센터 상담원의 응대 메뉴얼 변경
  - 고객보상(예를 들어 '지난 6개월 동안 X달러 이상 구매한 고객에게 쿠폰 지급')이나 채용 기준과 같은 사업 규칙
  - 허위 고객 계정을 판별하거나 직원을 승진시키는 것과 같은 임직원 개인의 결정

데이터 수집

- 다른 데이터 유형에 비해 상대적으로 수월하다.
- 관련된 데이터를 수집할때 고려해야 하는 윤리적 사항이 적다.
- 일반적으로 조직은 운영이나 임직원과 관련된 데이터를 자유롭게 수집할 수 있다.

분석 관점에서 비즈니스 행동은 굉장히 까다로운 존재이다.

- 조직은 의도하지 않은 비즈니스 행동을 무의식 중에 하고 있을 수 있다.
- 분석 결과를 해석하기 어렵게 만드는 노이즈를 파생 시킨다.
  - 1.
  - 비즈니스 행동을 상세하게 추적하지 못하는 조직이 많다.
  - ex)영업팀에서 여름에 영업시간을 단축하는 실험을 함 -> 그 사실을 알지못하는 사람은 여름에 매출이 줄어든 이유를 모름
  - 2.
  - 광고성 이메일 수신 동의 체크박스를 해제해도 자동으로 체크된다.
  - 체크박스는 사용자의 의견을 반영하지 못한다.

### 2.2 행동과 데이터의 연결고리

- 행동과 데이터를 연결하는 것은 단순히 이 개념 중 하나에 데이터 변수를 할당하는 것이 아니다.

#### 2.2.1 행동 무결성 사고방식

- 완벽함을 추구하기보다는 우선 요소를 빠르게 살펴보고 중요도에 따라 주요 문제의 우선순위를 정하는 것이 좋다.

1.  관심이 있는 원인과 결과
2.  매개변수와 조절변수
3.  잠재적 교란변수
4.  기타 교란의 여지가 없는 독립변수(혹은 공변랑)

변수를 모른척하는 것은 절대 내려서는 안 되는 결정이다. 변수는 분석에 포함되는 쪽이나 포함되지 않는 쪽의 두 가지 중 하나에 반드시 속해야 한다.

#### 2.2.2 불신과 검증

고객이 실제로 롤체를 했다고 해도 그 의도는 추측할 수 없다.

- 정말로 하고 싶어서
- 실수로 클릭을 해버려서
- 잠 중에 플레이(몽유병)

#### 2.2.3 범주 식별

- 단순히 행동으로 참여도를 높이려는 조직은 결과에 실망할 가능성이 높다.
- 행동으로서의 참여가 감정으로서의 참여로 이어지지 않으면 충성도와 유지율이 높아지는 것과 같은 바람직한 결과로 이어지지 않는다.
- 비즈니스 파트너가 자가 진단한 정보를 바탕으로 의뢰를 함 -> 자가 진단 환자를 조심해야함

#### 2.2.4 행동 변수 세분화

좋은 행동 변수의 특성

- 관찰 가능성
- 독립성
  - 1달 혜택이 끝나는 첫 달에 계정을 탈퇴하는 경우가 많음
  - 시간 간격을 기반으로 계산하면 교란변수의 희생양이 된다.
  - 여기서는 탈퇴 확률이 의미있는 독립 지표이다.
- 원자성
  - 의도가 같은 서로 다른 행동을 함께 집계하는 경우가 많다.
  - ex) 청구 주소를 변경하는 방법엔 세 가지가 있다.
  - 변수에 해당되는 구체적인 행동을 알고 있어야 한다.

#### 2.2.5 맥락 이해

'행동은 사람과 환경의 함수이다'는 행동과학의 기본 원리를 나타낸다.  
개인 변수가 중요한 것은 사실이지만 쉽게 사용할 수 있어서 분석할 때 이러한 변수에 지나치게 의존하는 경향이 있으며 결과적으로 맥락 변수를 충분히 고려하지 못하는 경우가 많다.

기존 데이터에서 맥락 정보를 추출하는 방법

- 시간의 중요성
  - 타임스탬프를 유추할 수 있는 단서
    - 빈도
      - 시간당 사건/행동 수
    - 지속시간
      - 감쇠 효과를 측정하는 자연스러운 방법을 제공
      - 전체 값의 평균으로 측정하기 보다는 경험이 발생한 시점에 따라 가중치를 두는 것이 좋다.
    - 근접성
      - 서로 매우 가까운 시기에 혹은 연속된 순서로 하는 행동은 우연이 아닐 가능성이 높다.
      - 그 행동을 보면 어떤 상황인지 단서를 얻을 수 있다.
    - 사회적인 일상
      - 주말과 평일의 일상은 다르다.
      - 일별로 데이터를 관리하기 보다는 '주 단위의 시간' 변수를 관리하는 것을 추천한다.
- 정보와 '알려진 무지'
  - 고객들에게 메일을 보내도 고객이 메일을 읽기 전까지 고객은 메일 내용을 모른다.
- 짖지 않는 개
  - 사람은 때때로 어떤 행동 대신 다른 행동을 하고 어쩔 수 없는 행동을 하거나 아무 행동도 하지 못한다.
  - 사람이 하지 않는 행동도 하는 행동만큼 의미가 있다.
